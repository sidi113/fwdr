<odoo>
  <data>
    <!-- tree view: Export Job -->    
    <record model="ir.ui.view" id="ob_job_tree">
      <field name="name">Export Job</field>
      <field name="model">fwdr.job</field>
      <field name="arch" type="xml">
        <tree delete="false">
          <field name="job_number"/>          
          <field name="ob_transaction_date"/>
          <field name="ob_billing_date"/>
          <field name="transit_type_id"/>
          <field name="traffic_mode"/>
          <field name="m_load_port_id"/>
          <field name="m_dsch_port_id"/>
          <field name="m_dest_port_id"/>
          <field name="m_fnd_id"/>
          <field name="m_voyage"/>
          <field name="m_etd"/>
          <field name="service_contract"/>
          <field name="ob_office_id"/>
        </tree>
      </field>
    </record> 

    <!-- form view: Export Job -->  
    <record model="ir.ui.view" id="ob_job_form">
      <field name="name">Export Job</field>
      <field name="model">fwdr.job</field>
      <field name="domain">[]</field>
      <field name="context">{}</field>
      <field name="arch" type="xml">
        <form string="Export Job" delete="false">
          <header>            
            <!-- <button string="Create Shipment" type="action" class="btn-primary" /> -->
            <button string="Terminate" type="action"/>
            <button string="Cancel" type="action"/>
            <!-- <button name="action_ba_send" string="Send BA" type="object" states="ba,confirm" class="btn-primary"/>
            <button name="print_ba" string="Print" type="object" states="ba,confirm" class="btn-primary"/>
            <button name="action_cancel" states="open,ba,confirm" type="object" string="Cancel"/>
            <button name="action_open" states="cancel" type="object" string="Open"/>
            <button name="action_done" type="object" string="Locked" states="sa,confirm,load"
                help="If the sale is locked, you can not modify it anymore. However, you will still be able to invoice or deliver."/>
            <field name="state" widget="statusbar" statusbar_visible="open,confirm,load,done"/> -->            
          </header>
          <div class="oe_button_box" name="button_box">
            <button name="action_view_shipment"
                type="object"
                class="oe_stat_button"
                icon="fa-pencil-square-o">
                <!-- attrs="{'invisible': [('shipment_count', '=', 0)]}"> -->
                <field name="shipment_count" widget="statinfo" string="Shipments"/>
            </button>
            <button name="action_view_hbl"
                type="object"
                class="oe_stat_button"
                icon="fa-pencil-square-o"
                attrs="{'invisible': [('hbl_count', '=', 0)]}">
                <field name="hbl_count" widget="statinfo" string="House B/Ls"/>
            </button>            
            <!-- <button name="action_view_invoice"
                type="object"
                class="oe_stat_button"
                icon="fa-pencil-square-o"
                attrs="{'invisible': [('invoice_count', '=', 0)]}">
                <field name="invoice_count" widget="statinfo" string="Invoices"/>
            </button> -->
          </div>
          <div class="oe_title"> 
            <h1> <label for="job_number" string="Job ID"/> 
              <field name="job_number" class="oe_inline"/></h1>                
          </div> 
          <notebook>
            <page string="Main" name="main">
              <group name="group_top"> 
                <group name="group_left">                                  
                  <field name="transit_type_id"/>
                  <!-- domain="[('display_name', 'ilike', 'Oce')]"  -->
                  <field name="ob_transaction_date" />
                  <field name="ob_billing_date" />
                </group> 
                <group name="group_right"> 
                  <field name="ob_office_id"/>
                  <field name="ib_office_id"/>                  
                </group> 
              </group>

              <separator string="Route" />                
              <group name="group_route_top"> 
                <group name="group_route_left">  
                  <field name="m_voyage"/>
                  <field name="m_load_port_id"/>
                  <field name="m_dsch_port_id"/>
                  <field name="m_dest_port_id"/> 
                  <field name="m_fnd_id" />                                            
                </group> 
                <group name="group_route_right">   
                  <field name="m_cutoff"/>                                      
                  <field name="m_etd" />                    
                  <field name="m_eta1" />
                  <field name="m_eta2" />
                  <field name="m_pol_location_id"/>   
                  <field name="m_pol_contact"/>
                  <field name="m_pod_location_id"/>   
                  <field name="m_pod_contact"/>
                </group> 
              </group>
 <!--              <separator string="Customs" />
              <group>
                <group>
                  <field name="it_number" />                  
                </group>
                <group>
                  <field name="it_place" />
                </group>
              </group> -->
              <group>            
                <group string="MBL/AMS">                           
                  <field name="mbl_ids"  nolabel="1">
                    <tree editable="bottom">
                      <field name="bl_type"/>
                      <field name="mbl_number"/>
                      <field name="piece_count"/>                      
                    </tree>                 
                  </field>
                </group>
                <group string="Container" >                           
                  <field name="container_ids" nolabel="1">
                    <tree editable="bottom">
                      <field name="type_id"/>
                      <field name="container_number" string="Container#" />                      
                      <field name="seal_number" string="Seal#" />
                    </tree>                  
                  </field>
                </group>
              </group>
              <separator string="Shipment" />
              <field name="shipment_ids">
                <tree>
                  <field name="shipment_number" string="Shipment ID"/>
                  <field name="booking_party_id"/>
                  <field name="s_shipper_id"/>
                  <field name="s_consignee_id"/>
                  <field name="h_dest_port_id"/> 
                </tree>
              </field>              
            </page>             
            <!-- <page string="Freighting">                           
              
            </page> -->
          </notebook>
          <field name="message_follower_ids"
              widget="mail_followers" />
          <field name="message_ids" widget="mail_thread" />
        </form>
      </field>
    </record>   

 


    <!-- actions opening views: Export Job -->  
    <record model="ir.actions.act_window" id="ob_job_action">
      <field name="name">Export Job</field>
      <field name="res_model">fwdr.job</field>
      <field name="type">ir.actions.act_window</field>
      <field name="view_mode">tree,form</field>
      <field name="domain">[]</field>
      <field name="context">{}</field>
    </record>   

    <record model="ir.actions.act_window.view" id="ob_job_actiom_tree">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="ob_job_tree"/>      
      <field name="act_window_id" ref="ob_job_action"/>
    </record>

    <record model="ir.actions.act_window.view" id="ob_job_actiom_form">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="ob_job_form"/>      
      <field name="act_window_id" ref="ob_job_action"/>
    </record>


    <!-- tree view: Import Job -->    
    <record model="ir.ui.view" id="ib_job_tree">
      <field name="name">Import Job</field>
      <field name="model">fwdr.ib.job</field>
      <field name="arch" type="xml">
        <tree delete="false">
          <field name="job_number"/>          
          <field name="ib_transaction_date"/>
          <field name="ib_billing_date"/>
          <field name="transit_type_id"/>
          <field name="traffic_mode"/>
          <field name="m_load_port_id"/>
          <field name="m_dsch_port_id"/>
          <field name="m_dest_port_id"/>
          <field name="m_fnd_id"/>
          <field name="m_voyage"/>
          <field name="m_eta1"/>          
          <field name="ib_office_id"/>
        </tree>
      </field>
    </record> 

    <!-- form view: Import Job -->  
    <record model="ir.ui.view" id="ib_job_form">
      <field name="name">Import Job</field>
      <field name="model">fwdr.ib.job</field>
      <field name="domain">[]</field>
      <field name="context">{}</field>
      <field name="arch" type="xml">
        <form string="Import Job" delete="false">
          <header>            
            <!-- <button string="Create Shipment" type="action" class="btn-primary" /> -->
            <button string="Terminate" type="action"/>
            <button string="Cancel" type="action"/>
            <!-- <button name="action_ba_send" string="Send BA" type="object" states="ba,confirm" class="btn-primary"/>
            <button name="print_ba" string="Print" type="object" states="ba,confirm" class="btn-primary"/>
            <button name="action_cancel" states="open,ba,confirm" type="object" string="Cancel"/>
            <button name="action_open" states="cancel" type="object" string="Open"/>
            <button name="action_done" type="object" string="Locked" states="sa,confirm,load"
                help="If the sale is locked, you can not modify it anymore. However, you will still be able to invoice or deliver."/>
            <field name="state" widget="statusbar" statusbar_visible="open,confirm,load,done"/> -->
          </header>


          <div class="oe_title"> 
            <h1> <label for="job_number" string="Job ID"/> 
              <field name="job_number" class="oe_inline"/></h1>                
          </div> 
          <notebook>
            <page string="Main" name="main">
              <group name="group_top"> 
                <group name="group_left">                                  
                  <field name="transit_type_id"/>
                  <!-- domain="[('display_name', 'ilike', 'Oce')]"  -->
                  <field name="ib_transaction_date" />
                  <field name="ib_billing_date" />
                </group> 
                <group name="group_right"> 
                  <field name="ob_office_id"/>
                  <field name="ib_office_id"/>
                </group> 
              </group>

              <separator string="Route" />                
              <group name="group_route_top"> 
                <group name="group_route_left">  
                  <field name="m_voyage"/>
                  <field name="m_load_port_id"/>
                  <field name="m_dsch_port_id"/>
                  <field name="m_dest_port_id"/> 
                  <field name="m_fnd_id" />                                            
                </group> 
                <group name="group_route_right">   
                  <field name="m_cutoff"/>                                      
                  <field name="m_etd" />                    
                  <field name="m_eta1" />
                  <field name="m_eta2" />
                  <field name="m_pol_location_id"/>   
                  <field name="m_pol_contact"/>
                  <field name="m_pod_location_id"/>   
                  <field name="m_pod_contact"/>
                </group> 
              </group>
              <separator string="Customs" />
              <group>
                <group>
                  <field name="m_it_number" />
                  <field name="m_it_place" />
                  <field name="m_it_date" />
                </group>
                <group>
                  <field name="m_custom_entry_number" />
                  <field name="m_custom_entry_date" />
                </group>
              </group>
              <group>            
                <group string="MBL/AMS">                           
                  <field name="mbl_ids"  nolabel="1">
                    <tree editable="bottom">
                      <field name="bl_type"/>
                      <field name="mbl_number"/>
                      <field name="piece_count"/>                      
                    </tree>                 
                  </field>
                </group>
                <group string="Container" >                           
                  <field name="container_ids" nolabel="1">
                    <tree editable="bottom">
                      <field name="type_id"/>
                      <field name="container_number" string="Container#" />                      
                      <field name="seal_number" string="Seal#" />
                    </tree>                  
                  </field>
                </group>
              </group>
              <field name="shipment_ids">
                <tree>
                  <field name="shipment_number" string="Shipment ID"/>
                  <field name="booking_party_id"/>
                  <field name="s_shipper_id"/>
                  <field name="s_consignee_id"/>
                  <field name="h_dest_port_id"/> 
                </tree>
              </field>  
            </page>             
            <!-- <page string="Freighting">                           
              
            </page> -->
          </notebook>
        </form>
      </field>
    </record>   


    <!-- actions opening views: Export Job -->  
    <record model="ir.actions.act_window" id="ib_job_action">
      <field name="name">Import Job</field>
      <field name="res_model">fwdr.ib.job</field>
      <field name="type">ir.actions.act_window</field>
      <field name="view_mode">tree,form</field>
      <field name="domain">[]</field>
      <field name="context">{}</field>
    </record>   

    <record model="ir.actions.act_window.view" id="ib_job_actiom_tree">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="ib_job_tree"/>      
      <field name="act_window_id" ref="ib_job_action"/>
    </record>

    <record model="ir.actions.act_window.view" id="ib_job_actiom_form">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="ib_job_form"/>      
      <field name="act_window_id" ref="ib_job_action"/>
    </record>

    <!-- Search View: Job --> 
    <record model="ir.ui.view" id="job_view_filter" >
      <field name="model">fwdr.job</field>
      <field name="arch" type="xml">
        <search>
          <field name="job_number"/>
          <field name="shipment_ids"/>
          <field name="m_load_port_id"/>
          <field name="m_dsch_port_id"/>
          <field name="m_dest_port_id"/>
          <field name="m_fnd_id"/>
          <!-- <filter name="filter_create_by" string="Create by Myself"
              domain="[('create_uid','=','self.env.user')]"/>  -->         
          <!-- <filter name="filter_not_done" string="Not Done"
              domain="[(create_by_'is_done','=',False)]"/>
          <filter name="filter_done" string="Done"
              domain="[('is_done','!=',False)]"/>
          <separator/> -->
<!--           <filter name="group_user" string="By User"
            context="{'group_by': 'user_id'}"/> -->
        </search>
      </field>
    </record> 

    <!-- menu -->    
    <menuitem name="Forwarding" id="menu_fwdr"/>    

    <menuitem name="Export" id="menu_ob" parent="menu_fwdr" sequence="1"/>      
    <menuitem name="Job" id="menu_ob_job" parent="menu_ob" action="ob_job_action" sequence="1" /> 

    <menuitem name="Import" id="menu_ib" parent="menu_fwdr" action="ib_job_action" sequence="2"/>  
    <menuitem name="Imcoming Job" id="menu_incoming_job" parent="menu_ib" action="ib_job_action" sequence="1" /> 
    <menuitem name="Job" id="menu_ib_job" parent="menu_ib" action="ib_job_action" sequence="2" /> 

  </data>
</odoo>